<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
      layout:decorator="layout/layout" 
      lang="ja"> 

<head>
    <meta charset="UTF-8"/>
    <title>プロジェクト一覧</title>
</head>

<body>
    <div layout:fragment="contents">
        <div class="container">
            <h1>プロジェクト一覧</h1>
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>プロジェクト名</th>
                        <th>概要</th>
                        <th>作成日</th>
                        <th>削除</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="project, stat : ${projects}">
                        <td>
                            <a th:href="@{/projects/{projectId}/tasks/index(projectId=${project.id})}" th:text="${project.name}">
                  dammy name
                </a>
                        </td>
                        <td th:text="${project.description}">
                            dammy_description
                        </td>
                        <td th:text="${#dates.format(project.createdAt, 'yyyy/MM/dd')}">
                            dammy_time
                        </td>
                        <td>
                            <div th:switch="${pm.get(stat.index)}">
                                <form th:action="@{/projects/delete}" method="post">
                                    <input th:case="true" class="btn btn-danger" type="submit" value="削除" />
                                    <input type="hidden" name="id" th:value="${project.id}" />
                                </form>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <a href="/projects/entry">プロジェクトを作成する</a>
        </div>
    </div>
</body>

</html>
